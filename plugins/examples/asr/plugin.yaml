name: ASR Plugin
version: 1.0.0
description: 语音识别插件，支持多种音频格式转文字
author: XiaoZhi Flow Team
type: audio
tags:
  - asr
  - speech
  - recognition
  - audio
capabilities:
  - speech_to_text
  - audio_format_detect
  - batch_processing
  - speaker_diarization
  - punctuation
  - timestamp
dependencies:
  - ffmpeg
  - whisper-api
metadata:
  language: go
  created_at: "2024-01-01T00:00:00Z"
  audio_formats:
    - wav
    - mp3
    - flac
    - aac
    - ogg
    - m4a
    - wma
  supported_languages:
    - zh-CN
    - zh-TW
    - en-US
    - en-GB
    - ja-JP
    - ko-KR

deployment:
  type: local_binary
  path: ./main.go
  resources:
    max_memory: "256Mi"
    max_cpu: "200m"
  timeout: 30s
  retry_count: 2

config:
  # ASR引擎配置
  engine:
    provider: "whisper"  # whisper, azure, google, baidu
    model: "base"        # tiny, base, small, medium, large
    language: "zh-CN"

  # 音频处理配置
  audio:
    sample_rate: 16000
    channels: 1
    bit_depth: 16
    max_duration: 300  # 最大音频时长（秒）

  # 批处理配置
  batch:
    max_files: 50
    max_total_size: "500Mi"

  # 质量控制
  quality:
    min_confidence: 0.8
    enable_punctuation: true
    enable_timestamp: true

environment:
  PLUGIN_LOG_LEVEL: "info"
  WHISPER_API_KEY: ""
  AZURE_SPEECH_KEY: ""
  AZURE_SPEECH_REGION: ""
  GOOGLE_CLOUD_KEY: ""

enabled: true